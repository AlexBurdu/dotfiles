{
  "_description": "AfterTool security linters (detekt, bandit, shellcheck, semgrep)",
  "hooks": {
    "AfterTool": [
      {
        "matcher": "write_file|edit_file",
        "hooks": [
          {
            "type": "command",
            "command": "f=$(jq -r '.tool_input.file_path // empty'); case \"$f\" in *.kt|*.kts) command -v detekt >/dev/null && detekt -i \"$f\";; esac"
          }
        ]
      },
      {
        "matcher": "write_file|edit_file",
        "hooks": [
          {
            "type": "command",
            "command": "f=$(jq -r '.tool_input.file_path // empty'); case \"$f\" in *.py) command -v bandit >/dev/null && bandit -q \"$f\";; esac"
          }
        ]
      },
      {
        "matcher": "write_file|edit_file",
        "hooks": [
          {
            "type": "command",
            "command": "f=$(jq -r '.tool_input.file_path // empty'); case \"$f\" in *.sh|*.bash) command -v shellcheck >/dev/null && shellcheck \"$f\";; esac"
          }
        ]
      },
      {
        "matcher": "write_file|edit_file",
        "hooks": [
          {
            "type": "command",
            "command": "f=$(jq -r '.tool_input.file_path // empty'); case \"$f\" in *.js|*.ts|*.jsx|*.tsx|*.mjs|*.mts) command -v semgrep >/dev/null && semgrep --config auto --error \"$f\";; esac"
          }
        ]
      }
    ]
  }
}
